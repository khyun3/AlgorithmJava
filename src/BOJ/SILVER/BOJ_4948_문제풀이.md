# ğŸ“ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´

## ğŸ”¹ ë¬¸ì œ ì •ë³´

* ë¬¸ì œ ë²ˆí˜¸: [4948 ë² ë¥´íŠ¸ë‘ ê³µì¤€](https://www.acmicpc.net/problem/4948)
* ë¬¸ì œ ìœ í˜•: 
* ë‚œì´ë„: ì‹¤ë²„2
* ì œì•½ ì¡°ê±´: 1ì´ˆ | 256MB

## ğŸ”¹ ë¬¸ì œ ì •ë¦¬

### ë¬¸ì œ

* ë² ë¥´íŠ¸ë‘ ê³µì¤€ì€ ì„ì˜ì˜ ìì—°ìˆ˜ nì— ëŒ€í•˜ì—¬, 
* në³´ë‹¤ í¬ê³ , 2në³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ëŠ” ì ì–´ë„ í•˜ë‚˜ ì¡´ì¬í•œë‹¤ëŠ” ë‚´ìš©ì„ ë‹´ê³  ìˆë‹¤.
* ë² ë¥´íŠ¸ë‘ ê³µì¤€ì€ ì„ì˜ì˜ ìì—°ìˆ˜ nì— ëŒ€í•˜ì—¬, 
* në³´ë‹¤ í¬ê³ , 2në³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ëŠ” ì ì–´ë„ í•˜ë‚˜ ì¡´ì¬í•œë‹¤ëŠ” ë‚´ìš©ì„ ë‹´ê³  ìˆë‹¤.
* ì´ ëª…ì œëŠ” ì¡°ì œí”„ ë² ë¥´íŠ¸ë‘ì´ 1845ë…„ì— ì¶”ì¸¡í–ˆê³ , íŒŒí”„ëˆ„í‹° ì²´ë¹„ì‡¼í”„ê°€ 1850ë…„ì— ì¦ëª…í–ˆë‹¤.
* ì˜ˆë¥¼ ë“¤ì–´, 10ë³´ë‹¤ í¬ê³ , 20ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ëŠ” 4ê°œê°€ ìˆë‹¤. (11, 13, 17, 19) 
* ë˜, 14ë³´ë‹¤ í¬ê³ , 28ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ëŠ” 3ê°œê°€ ìˆë‹¤. (17,19, 23)
* ìì—°ìˆ˜ nì´ ì£¼ì–´ì¡Œì„ ë•Œ, në³´ë‹¤ í¬ê³ , 2në³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### ì…ë ¥

> ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ê° ì¼€ì´ìŠ¤ëŠ” nì„ í¬í•¨í•˜ëŠ” í•œ ì¤„ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
> ì…ë ¥ì˜ ë§ˆì§€ë§‰ì—ëŠ” 0ì´ ì£¼ì–´ì§„ë‹¤.
> 1 â‰¤ n â‰¤ 123,456

### ì¶œë ¥

> ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œ, në³´ë‹¤ í¬ê³ , 2në³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

## ğŸ”¹ í’€ì´ ìˆœì„œ

1. ë¯¸ë¦¬ 1ë¶€í„° 123456 * 2ê¹Œì§€ ì†Œìˆ˜ë¥¼ íŒë³„í•´ë‘”ë‹¤. 
2. ë§ì€ ìˆ˜ì˜ ì†Œìˆ˜ë¥¼ íŒë³„í•´ì•¼ í•˜ë¯€ë¡œ `ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ ì•Œê³ ë¦¬ì¦˜`ì„ ì‚¬ìš©í•œë‹¤.
3. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì…ë ¥ë°›ê³  ì…ë ¥ë°›ì€ ìˆ˜ê¹Œì§€ì˜ ì†Œìˆ˜ ê°œìˆ˜ë¥¼ êµ¬í•œë‹¤.
4. 0ì´ ë“¤ì–´ì˜¤ë©´ ë‹µì„ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.


## ğŸ”¹ ì½”ë“œ êµ¬í˜„

```java
public class BOJ_4948_ë°°ë¥´íŠ¸ë‘_ê³µì¤€ {
  public static void main(String[] args) throws IOException {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    //1. ë¯¸ë¦¬ 1ë¶€í„° 123456 * 2ê¹Œì§€ ì†Œìˆ˜ë¥¼ íŒë³„í•´ë‘”ë‹¤.
    Set<Integer> primes = initPrimes();
    StringBuilder sb = new StringBuilder();
    //3. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì…ë ¥ë°›ê³  ì…ë ¥ë°›ì€ ìˆ˜ê¹Œì§€ì˜ ì†Œìˆ˜ ê°œìˆ˜ë¥¼ êµ¬í•œë‹¤.
    while(true) {
      String input = br.readLine();
      //4. 0ì´ ë“¤ì–´ì˜¤ë©´ ë‹µì„ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.
      if(input.equals("0")) {
        break;
      }
      int n = Integer.parseInt(input);
      int n2 = n*2;
      int primeCount = 0;
      for (Integer prime : primes) {
        if(n < prime && n2 >= prime) {
          primeCount++;
        }
        if(prime >= n2) break;
      }
      sb.append(primeCount).append("\n");
    }
    System.out.println(sb);
  }

  //2. ë§ì€ ìˆ˜ì˜ ì†Œìˆ˜ë¥¼ íŒë³„í•´ì•¼ í•˜ë¯€ë¡œ `ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ ì•Œê³ ë¦¬ì¦˜`ì„ ì‚¬ìš©í•œë‹¤.
  static Set<Integer> initPrimes() {
    boolean[] isPrimes = new boolean[246913];
    Arrays.fill(isPrimes, true);
    isPrimes[0] = false;
    isPrimes[1] = false;

    int last = (int) Math.sqrt(246912) + 1;
    for (int i = 2; i <= last; i++) {
      if (isPrimes[i]) {
        for (int j = i * i; j <= 246912; j += i) {
          isPrimes[j] = false;
        }
      }
    }
    Set<Integer> primes = new TreeSet<>();
    for (int i = 0; i < isPrimes.length; i++) {
      if (isPrimes[i]) {
        primes.add(i);
      }
    }
    return primes;
  }
}

```

## ğŸ”¹ í•„ìš”í•œ ê°œë… ì •ë¦¬

### 1ï¸âƒ£ ìˆ˜í•™ ê°œë…

#### ì†Œìˆ˜ì˜ ì„±ì§ˆ
* ì •ì˜
    * nì˜ ì•½ìˆ˜ëŠ” í•­ìƒ sqrt(number)ì´í•˜ì— ì¡´ì¬.
* í•´ë‹¹ ë¬¸ì œì—ì„œ í™œìš© ë°©ë²•:
* sqrt(number)ê¹Œì§€ë§Œ ì²´í¬ í•´ë³´ë©´ ë¨.
* ë‹¤ìŒ ì†Œìˆ˜ê¹Œì§€ ëª‡ ë²ˆ ì´ë™í• ê¹Œ?
* ì˜ˆë¥¼ ë“¤ì–´, M = 100ì´ë©´ ê°€ì¥ ê°€ê¹Œìš´ ì†Œìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ 101, 102, ...ë¥¼ ê²€ì‚¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ. 
* ì†Œìˆ˜ëŠ” í¬ê·€í• ìˆ˜ë¡ ì°¾ëŠ”ë° ë” ì˜¤ë˜ ê±¸ë¦¼. 
* í†µê³„ì ìœ¼ë¡œ, ì†Œìˆ˜ëŠ” í‰ê· ì ìœ¼ë¡œ log M ê°œë§ˆë‹¤ ë“±ì¥í•œë‹¤ê³  ì•Œë ¤ì ¸ ìˆìŒ. 
* ì´ê±´ ì†Œìˆ˜ ì •ë¦¬(Prime Number Theorem, PNT) ì— ì˜í•´ ê·¼ì‚¬í•  ìˆ˜ ìˆìŒ.


### ì‹œê°„ë³µì¡ë„

* `ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ì˜ ì‹œê°„`ë§Œí¼ ê±¸ë¦¼.
* O(M log log M)