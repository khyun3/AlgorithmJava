# ğŸ“ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´

## ğŸ”¹ ë¬¸ì œ ì •ë³´

* ë¬¸ì œ ë²ˆí˜¸: [ê³¨ë“œë°”í íŒŒí‹°ì…˜](https://www.acmicpc.net/problem/17103)
* ë¬¸ì œ ìœ í˜•: 
* ë‚œì´ë„: ì‹¤ë²„2
* ì œì•½ ì¡°ê±´: 0.5ì´ˆ | 512MB

## ğŸ”¹ ë¬¸ì œ ì •ë¦¬

### ë¬¸ì œ
 
* `ê³¨ë“œë°”íì˜ ì¶”ì¸¡` : 2ë³´ë‹¤ í° ì§ìˆ˜ëŠ” ë‘ ì†Œìˆ˜ì˜ í•©ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.
* ì§ìˆ˜ Nì„ ë‘ ì†Œìˆ˜ì˜ í•©ìœ¼ë¡œ ë‚˜íƒ€ë‚´ëŠ” í‘œí˜„ì„ ê³¨ë“œë°”í íŒŒí‹°ì…˜ì´ë¼ê³  í•œë‹¤. 
* ì§ìˆ˜ Nì´ ì£¼ì–´ì¡Œì„ ë•Œ, ê³¨ë“œë°”í íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë¥¼ êµ¬í•´ë³´ì. 
* ë‘ ì†Œìˆ˜ì˜ ìˆœì„œë§Œ ë‹¤ë¥¸ ê²ƒì€ ê°™ì€ íŒŒí‹°ì…˜ì´ë‹¤.

### ì…ë ¥

> ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ T (1 â‰¤ T â‰¤ 100)ê°€ ì£¼ì–´ì§„ë‹¤. 
> ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” í•œ ì¤„ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³ , 
>  ì •ìˆ˜ Nì€ ì§ìˆ˜ì´ê³ , 2 < N â‰¤ 1,000,000ì„ ë§Œì¡±í•œë‹¤.

### ì¶œë ¥

> ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œ, në³´ë‹¤ í¬ê³ , 2në³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

## ğŸ”¹ í’€ì´ ìˆœì„œ

1. ë¯¸ë¦¬ 1ë¶€í„° 1000000ê¹Œì§€ ì†Œìˆ˜ë¥¼ íŒë³„í•´ë‘”ë‹¤. 
2. ë§ì€ ìˆ˜ì˜ ì†Œìˆ˜ë¥¼ íŒë³„í•´ì•¼ í•˜ë¯€ë¡œ `ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ ì•Œê³ ë¦¬ì¦˜`ì„ ì‚¬ìš©í•œë‹¤.
3. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì…ë ¥ë°›ê³  `2ë³´ë‹¤ í° ì§ìˆ˜ëŠ” ë‘ ì†Œìˆ˜ì˜ í•©ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤`ì— ëŒ€í•œ ë¡œì§ì„ ì‘ì„±í•œë‹¤.
4. ê³¨ë“œë°”í ì¶”ì¸¡ì¤‘ ì†Œìˆ˜ í•˜ë‚˜ëŠ” `ì§ìˆ˜ / 2`ë³´ë‹¤ í¬ê³  í•˜ë‚˜ëŠ” `ì§ìˆ˜ / 2`ë³´ë‹¤ ì‘ë‹¤. 
5. inputNum / 2ë³´ë‹¤ ì‘ì€ ì†Œìˆ˜ë¥¼ ì°¾ëŠ”ë‹¤.
6. inputNum ì—ì„œ ì°¾ì€ ì†Œìˆ˜ë¥¼ ëº€ê°’ë„ ì†Œìˆ˜ì—¬ì•¼ í•œë‹¤.
7. ì´ë¥¼ íŒë³„í•˜ê¸° ìœ„í•´ `ì´ë¶„íƒìƒ‰`ì„ ì‚¬ìš©í•œë‹¤.
8. ë§Œë“¤ì–´ë‘” ì†Œìˆ˜ ë°°ì—´ì— í•´ë‹¹ ê°’ì´ ì¡´ì¬í•˜ë©´ ê°¯ìˆ˜ë¥¼ í•˜ë‚˜ ì¹´ìš´íŠ¸ í•œë‹¤.

## ğŸ”¹ ì½”ë“œ êµ¬í˜„

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;

public class BOJ_17103_ê³¨ë“œë°”í_íŒŒí‹°ì…˜ {
  public static void main(String[] args) throws IOException {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    int[] primes = initPrimes();
    StringBuilder sb = new StringBuilder();
    int N = Integer.parseInt(br.readLine());

    for (int t = 0; t < N; t++) {
      int inputNum = Integer.parseInt(br.readLine());
      sb.append(findGoldbach(inputNum, primes)).append("\n");
    }
    System.out.println(sb);
  }

  private static int findGoldbach(int inputNum, int[] primes) {
    int resultCount = 0;
    for (int prime : primes) {
      if (prime > inputNum / 2) {
        break;
      }
      int b = inputNum - prime;
      if (Arrays.binarySearch(primes, b) >= 0) {
        resultCount++;
      }
    }
    return resultCount;
  }

  private static int[] initPrimes() {
    boolean[] isPrimes = new boolean[1000001];
    Arrays.fill(isPrimes, true);
    isPrimes[0] = isPrimes[1] = false;

    //ì†Œìˆ˜ì˜ ì„±ì§ˆ, ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¡œ ì†Œìˆ˜ íŒë³„(1 ~ 100ë§Œê¹Œì§€)
    int lastNum = (int) Math.sqrt(1000001) + 1;
    for (int i = 2; i <= lastNum; i++) {
      if (isPrimes[i]) {
        for (int j = i * i; j < 1000001; j += i) {
          isPrimes[j] = false;
        }
      }
    }
    return getPrimes(isPrimes);
  }

  private static int[] getPrimes(boolean[] isPrimes) {
    int count = 0;
    for (int i = 2; i < 1000001; i++) {
      if (isPrimes[i]) {
        count++;
      }
    }
    int[] primes = new int[count];
    int idx = 0;
    for (int i = 2; i < 1000001; i++) {
      if (isPrimes[i]) {
        primes[idx++] = i;
      }
    }
    return primes;
  }
}

```

## ğŸ”¹ í•„ìš”í•œ ê°œë… ì •ë¦¬

### 1ï¸âƒ£ ìˆ˜í•™ ê°œë…

#### ì†Œìˆ˜ì˜ ì„±ì§ˆ
* ì •ì˜
    * nì˜ ì•½ìˆ˜ëŠ” í•­ìƒ sqrt(number)ì´í•˜ì— ì¡´ì¬.
* í•´ë‹¹ ë¬¸ì œì—ì„œ í™œìš© ë°©ë²•:
* sqrt(number)ê¹Œì§€ë§Œ ì²´í¬ í•´ë³´ë©´ ë¨.
* ë‹¤ìŒ ì†Œìˆ˜ê¹Œì§€ ëª‡ ë²ˆ ì´ë™í• ê¹Œ?
* ì˜ˆë¥¼ ë“¤ì–´, M = 100ì´ë©´ ê°€ì¥ ê°€ê¹Œìš´ ì†Œìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ 101, 102, ...ë¥¼ ê²€ì‚¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ. 
* ì†Œìˆ˜ëŠ” í¬ê·€í• ìˆ˜ë¡ ì°¾ëŠ”ë° ë” ì˜¤ë˜ ê±¸ë¦¼. 
* í†µê³„ì ìœ¼ë¡œ, ì†Œìˆ˜ëŠ” í‰ê· ì ìœ¼ë¡œ log M ê°œë§ˆë‹¤ ë“±ì¥í•œë‹¤ê³  ì•Œë ¤ì ¸ ìˆìŒ. 
* ì´ê±´ ì†Œìˆ˜ ì •ë¦¬(Prime Number Theorem, PNT) ì— ì˜í•´ ê·¼ì‚¬í•  ìˆ˜ ìˆìŒ.


### ì‹œê°„ë³µì¡ë„

* `ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ì˜ ì‹œê°„` + 
* O(N * log log N) + O(T * P * log P)